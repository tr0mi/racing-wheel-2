(this["webpackJsonpracing-wheel-2"]=this["webpackJsonpracing-wheel-2"]||[]).push([[0],{125:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(47),s=n.n(o),i=n(2),c=n(3),u=n(10),l=n(5),h=n(4),g=(n(53),n(1)),b=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){switch(this.props.shift){case 0:document.getElementById("wheel").src="/racing-wheel-2/g27/wheel.png";break;case 1:document.getElementById("wheel").src="/racing-wheel-2/g27/downshift.png";break;case 2:document.getElementById("wheel").src="/racing-wheel-2/g27/upshift.png";break;case 3:document.getElementById("wheel").src="/racing-wheel-2/g27/g27button1.png";break;case 4:document.getElementById("wheel").src="/racing-wheel-2/g27/g27button2.png";break;case 5:document.getElementById("wheel").src="/racing-wheel-2/g27/g27button3.png";break;case 6:document.getElementById("wheel").src="/racing-wheel-2/g27/g27button4.png";break;case 7:document.getElementById("wheel").src="/racing-wheel-2/g27/g27button5.png";break;case 8:document.getElementById("wheel").src="/racing-wheel-2/g27/g27button6.png"}return null}}]),n}(a.Component),d=g.a.connect([],(function(e){return["buttons-"+e.upShift,"buttons-"+e.downShift,"buttons-"+e.wheelButton1,"buttons-"+e.wheelButton2,"buttons-"+e.wheelButton3,"buttons-"+e.wheelButton4,"buttons-"+e.wheelButton5,"buttons-"+e.wheelButton6]}),(function(e,t,n,a){var r=a.shift,o=a.shiftButton;if(t.pressed)switch(e){case"buttons-"+a.upShift:r=1,o=a.upShift;break;case"buttons-"+a.downShift:r=2,o=a.downShift;break;case"buttons-"+a.wheelButton1:r=3,o=a.wheelButton1;break;case"buttons-"+a.wheelButton2:r=4,o=a.wheelButton2;break;case"buttons-"+a.wheelButton3:r=5,o=a.wheelButton3;break;case"buttons-"+a.wheelButton4:r=6,o=a.wheelButton4;break;case"buttons-"+a.wheelButton5:r=7,o=a.wheelButton5;break;case"buttons-"+a.wheelButton6:r=8,o=a.wheelButton6;break;default:r=0}else"buttons-"+a.shiftButton===e&&(r=0);return{shift:r,shiftButton:o}}))(b);g.a.set("maxrotation",360);for(var p=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=g.a.get("maxrotation"),t={width:"550px",transform:"rotate("+this.props.currentRotation*(e/2)+"deg)"};return r.a.createElement("div",null,r.a.createElement("img",{id:"wheel",alt:"",style:t,src:"/racing-wheel-2/g27/wheel.png"}),r.a.createElement(d,{upShift:5,downShift:4,wheelButton1:7,wheelButton2:20,wheelButton3:22,wheelButton4:6,wheelButton5:19,wheelButton6:21,src:"/racing-wheel-2/g27/downshift.png"}))}}]),n}(a.Component),m=g.a.connect([],(function(e){return["axes-"+e.axis]}),(function(e,t,n,a){return{currentRotation:t}}))(p),f=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.downAmount*this.props.value*-1,t={width:"70px",position:"absolute",top:this.props.top+"px",left:this.props.left+"px",transform:"translateY("+e+"px)"};return r.a.createElement("img",{alt:"",style:t,src:this.props.src})}}]),n}(a.Component),w=g.a.connect([],(function(e){return["axes-"+e.axis]}),(function(e,t,n,a){return{value:t}}))(f),B=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(w,{top:-20,left:290,downAmount:50,axis:2,src:"/racing-wheel-2/g920/gas.png"}),r.a.createElement(w,{top:-10,left:160,downAmount:50,axis:5,src:"/racing-wheel-2/g920/brake.png"}),r.a.createElement(w,{top:-10,left:40,downAmount:50,axis:6,src:"/racing-wheel-2/g920/clutch.png"}),r.a.createElement("img",{alt:"",style:{width:"400px"},src:"/racing-wheel-2/g920/pedals.png"}))}}]),n}(a.Component),v=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).halfGrid=a.props.gridSize/2,a.halfGridY=a.props.gridSize/2.2,a.moveX=0,a.moveY=0,a}return Object(c.a)(n,[{key:"render",value:function(){var e="100ms";switch(this.props.gear){case-1:e="500ms",this.moveX=0,this.moveY=0;break;case 0:this.moveX=this.halfGrid,this.moveY=this.halfGridY;break;case 1:this.moveX=-this.halfGrid,this.moveY=-this.halfGridY;break;case 2:this.moveX=-this.halfGrid,this.moveY=this.halfGridY;break;case 3:this.moveX=0,this.moveY=-this.halfGridY;break;case 4:this.moveX=0,this.moveY=this.halfGridY;break;case 5:this.moveX=this.halfGrid,this.moveY=-this.halfGridY;break;case 6:this.moveX=this.halfGrid,this.moveY=this.halfGridY;break;default:e="500ms",this.moveX=0,this.moveY=0}var t={width:"150px",zIndex:"999",position:"absolute",top:this.props.top-30+"px",left:this.props.left+"px",transition:"all "+e,transform:"translate("+this.moveX+"px, "+this.moveY+"px)"},n={backgroundColor:"red",width:"10px",height:"20px",zIndex:"999",position:"absolute",top:"0px",left:"0px",display:"none"};return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("div",{style:n}),r.a.createElement("img",{id:"shiftKnob",alt:"",style:t,src:"/racing-wheel-2/g920/shifter.png"}))}}]),n}(a.Component),k=g.a.connect([],(function(e){return["buttons-"+e.gear1,"buttons-"+e.gear2,"buttons-"+e.gear3,"buttons-"+e.gear4,"buttons-"+e.gear5,"buttons-"+e.gear6,"buttons-"+e.reverse]}),(function(e,t,n,a){var r=a.gear||-1,o=a.gearButton||-1;if(t.pressed)switch(e){case"buttons-"+a.gear1:r=1,o=a.gear1;break;case"buttons-"+a.gear2:r=2,o=a.gear2;break;case"buttons-"+a.gear3:r=3,o=a.gear3;break;case"buttons-"+a.gear4:r=4,o=a.gear4;break;case"buttons-"+a.gear5:r=5,o=a.gear5;break;case"buttons-"+a.gear6:r=6,o=a.gear6;break;case"buttons-"+a.reverse:r=0,o=a.reverse,document.getElementById("shiftKnob").style.width="110px";break;default:r=-1}else"buttons-"+a.gearButton===e&&(r=-1,document.getElementById("shiftKnob").style.width="150px");return{gear:r,gearButton:o}}))(v),y=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){switch(this.props.gearPress){case 0:document.getElementById("shiftBase").src="/racing-wheel-2/g27/shifter-base.png";break;case 1:document.getElementById("shiftBase").src="/racing-wheel-2/g27/basebutton1.png";break;case 2:document.getElementById("shiftBase").src="/racing-wheel-2/g27/basebutton2.png";break;case 3:document.getElementById("shiftBase").src="/racing-wheel-2/g27/basebutton3.png";break;case 4:document.getElementById("shiftBase").src="/racing-wheel-2/g27/basebutton4.png";break;case 5:document.getElementById("shiftBase").src="/racing-wheel-2/g27/basebutton5.png";break;case 6:document.getElementById("shiftBase").src="/racing-wheel-2/g27/basebutton6.png";break;case 7:document.getElementById("shiftBase").src="/racing-wheel-2/g27/basebutton7.png";break;case 8:document.getElementById("shiftBase").src="/racing-wheel-2/g27/basebutton8.png"}return null}}]),n}(a.Component),x=g.a.connect([],(function(e){return["buttons-"+e.gearButton1,"buttons-"+e.gearButton2,"buttons-"+e.gearButton3,"buttons-"+e.gearButton4,"buttons-"+e.gearButton5,"buttons-"+e.gearButton6,"buttons-"+e.gearButton7,"buttons-"+e.gearButton8]}),(function(e,t,n,a){var r=a.gearPress,o=a.gearButton;if(t.pressed)switch(e){case"buttons-"+a.gearButton1:r=1,o=a.gearButton1;break;case"buttons-"+a.gearButton2:r=2,o=a.gearButton2;break;case"buttons-"+a.gearButton3:r=3,o=a.gearButton3;break;case"buttons-"+a.gearButton4:r=4,o=a.gearButton4;break;case"buttons-"+a.gearButton5:r=5,o=a.gearButton5;break;case"buttons-"+a.gearButton6:r=6,o=a.gearButton6;break;case"buttons-"+a.gearButton7:r=7,o=a.gearButton7;break;case"buttons-"+a.gearButton8:r=8,o=a.gearButton8;break;default:r=0}else"buttons-"+a.gearButton===e&&(r=0);return{gearPress:r,gearButton:o}}))(y),E=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=Math.floor(100*this.props.arrowAmount);switch(128!==this.props.currentArrow){case-100===e:document.getElementById("shiftBase").src="/racing-wheel-2/g27/basearrow1.png";break;case 71===e:document.getElementById("shiftBase").src="/racing-wheel-2/g27/basearrow2.png";break;case 14===e:document.getElementById("shiftBase").src="/racing-wheel-2/g27/basearrow3.png";break;case-43===e:document.getElementById("shiftBase").src="/racing-wheel-2/g27/basearrow4.png"}return null}}]),n}(a.Component),j=g.a.connect([],(function(e){return["axes-"+e.arrowAxis]}),(function(e,t,n,a){return{arrowAmount:t}}))(E),O=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(k,{top:360,left:225,gridSize:150,gear1:8,gear2:9,gear3:10,gear4:11,gear5:12,gear6:13,reverse:14}),r.a.createElement(x,{gearButton1:0,gearButton2:1,gearButton3:2,gearButton4:3,gearButton5:15,gearButton6:16,gearButton7:17,gearButton8:18}),r.a.createElement(j,{arrowAxis:9}),r.a.createElement("img",{id:"shiftBase",alt:"",width:"600px",src:"/racing-wheel-2/g27/shifter-base.png"}))}}]),n}(a.Component),I=[],G=[],C=0;C<23;C++)I.push({pressed:!1,touched:!1,value:0}),G.push(0);g.a.set("buttons",I),g.a.set("axes",G);var Y=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).gamePads={},a.start=0,a.a=0,a.b=0,a.gamePadIndex=-1,a.state={gameLoopStarted:!1,rotation:360},a.gameLoop=a.gameLoop.bind(Object(u.a)(a)),a.onGamepadConnected=a.onGamepadConnected.bind(Object(u.a)(a)),window.addEventListener("gamepadconnected",a.onGamepadConnected),a}return Object(c.a)(n,[{key:"onGamepadConnected",value:function(e){var t=navigator.getGamepads()[e.gamepad.index];console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",t.index,t.id,t.buttons.length,t.axes.length),this.gamePads[t.index]=t,this.setState({gamePads:this.gamePads}),t.id.toLowerCase().indexOf("wheel")>-1&&this.changeGamepad(t.index)}},{key:"onChange",value:function(e){this.changeGamepad(e.target.value)}},{key:"changeGamepad",value:function(e){console.log(e),this.gamePadIndex=e,this.setState({gamepadIndex:e,gameLoopStarted:!0}),this.gameLoop()}},{key:"onWheelRotationChange",value:function(e){var t=e.target.value;g.a.set("maxrotation",t),this.setState({rotation:t})}},{key:"render",value:function(){var e=this,t=Object.values(this.gamePads).map((function(t){var n=t.index===e.gamePadIndex;return r.a.createElement("option",{selected:n,value:t.index},t.id)}));return r.a.createElement("div",{style:{width:"600px",height:"100%",position:"absolute",top:"0px",left:"0px"}},r.a.createElement("label",{style:{color:"white"}},"Driving System"),r.a.createElement("select",{name:"gamepadSelection",onChange:function(t){e.onChange(t)}},t),r.a.createElement("br",null),r.a.createElement("label",{style:{color:"white"}},"Max Rotation"),r.a.createElement("input",{name:"wheelRotation",type:"number",value:this.state.rotation,onChange:function(t){e.onWheelRotationChange(t)}}),r.a.createElement("br",null),r.a.createElement("div",{style:{position:"relative",top:"20px",left:"300px"}},r.a.createElement(m,{axis:0,rotation:this.state.rotation})),r.a.createElement("div",{style:{position:"relative",top:"-400px",left:"-200px",marginLeft:"50px"}},r.a.createElement(O,null)),r.a.createElement("div",{style:{position:"relative",top:"-500px",left:"325px",marginLeft:"50px"}},r.a.createElement(B,null)))}},{key:"buttonPressed",value:function(e){return"object"==typeof e?e.pressed:1===e}},{key:"gameLoop",value:function(){if(-1!==this.gamePadIndex){for(var e=navigator.getGamepads()[this.gamePadIndex],t=[],n=0;n<e.buttons.length;n++){var a=e.buttons[n],r={pressed:a.pressed,touched:a.touched,value:a.value};t.push(r)}for(var o=[],s=0;s<e.axes.length;s++){var i=e.axes[s];o.push(i)}g.a.set("buttons",t),g.a.set("axes",o),this.start=requestAnimationFrame(this.gameLoop)}}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},48:function(e,t,n){e.exports=n(125)},53:function(e,t,n){}},[[48,1,2]]]);
//# sourceMappingURL=main.3267d4ed.chunk.js.map