(this["webpackJsonpracing-wheel-2"]=this["webpackJsonpracing-wheel-2"]||[]).push([[0],{125:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(47),o=a.n(s),i=a(2),c=a(3),u=a(10),l=a(5),h=a(4),g=(a(53),a(1)),m=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){switch(this.props.shift){case 0:document.getElementById("wheel").src="/stream-racing-wheel/g27/wheel.png";break;case 1:document.getElementById("wheel").src="/stream-racing-wheel/g27/downshift.png";break;case 2:document.getElementById("wheel").src="/stream-racing-wheel/g27/upshift.png";break;case 3:document.getElementById("wheel").src="/stream-racing-wheel/g27/g27button1.png";break;case 4:document.getElementById("wheel").src="/stream-racing-wheel/g27/g27button2.png";break;case 5:document.getElementById("wheel").src="/stream-racing-wheel/g27/g27button3.png";break;case 6:document.getElementById("wheel").src="/stream-racing-wheel/g27/g27button4.png";break;case 7:document.getElementById("wheel").src="/stream-racing-wheel/g27/g27button5.png";break;case 8:document.getElementById("wheel").src="/stream-racing-wheel/g27/g27button6.png"}return null}}]),a}(n.Component),b=g.a.connect([],(function(e){return["buttons-"+e.upShift,"buttons-"+e.downShift,"buttons-"+e.wheelButton1,"buttons-"+e.wheelButton2,"buttons-"+e.wheelButton3,"buttons-"+e.wheelButton4,"buttons-"+e.wheelButton5,"buttons-"+e.wheelButton6]}),(function(e,t,a,n){var r=n.shift,s=n.shiftButton;if(t.pressed)switch(e){case"buttons-"+n.upShift:r=1,s=n.upShift;break;case"buttons-"+n.downShift:r=2,s=n.downShift;break;case"buttons-"+n.wheelButton1:r=3,s=n.wheelButton1;break;case"buttons-"+n.wheelButton2:r=4,s=n.wheelButton2;break;case"buttons-"+n.wheelButton3:r=5,s=n.wheelButton3;break;case"buttons-"+n.wheelButton4:r=6,s=n.wheelButton4;break;case"buttons-"+n.wheelButton5:r=7,s=n.wheelButton5;break;case"buttons-"+n.wheelButton6:r=8,s=n.wheelButton6;break;default:r=0}else"buttons-"+n.shiftButton===e&&(r=0);return{shift:r,shiftButton:s}}))(m);g.a.set("maxrotation",360);for(var d=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=g.a.get("maxrotation"),t={width:"550px",transform:"rotate("+this.props.currentRotation*(e/2)+"deg)"};return r.a.createElement("div",null,r.a.createElement("img",{id:"wheel",alt:"",style:t,src:"/stream-racing-wheel/g27/wheel.png"}),r.a.createElement(b,{upShift:5,downShift:4,wheelButton1:7,wheelButton2:20,wheelButton3:22,wheelButton4:6,wheelButton5:19,wheelButton6:21,src:"/stream-racing-wheel/g27/downshift.png"}))}}]),a}(n.Component),p=g.a.connect([],(function(e){return["axes-"+e.axis]}),(function(e,t,a,n){return{currentRotation:t}}))(d),f=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.downAmount*this.props.value*-1,t={width:"70px",position:"absolute",top:this.props.top+"px",left:this.props.left+"px",transform:"translateY("+e+"px)"};return r.a.createElement("img",{alt:"",style:t,src:this.props.src})}}]),a}(n.Component),w=g.a.connect([],(function(e){return["axes-"+e.axis]}),(function(e,t,a,n){return{value:t}}))(f),B=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(w,{top:-20,left:290,downAmount:50,axis:2,src:"/stream-racing-wheel/g920/gas.png"}),r.a.createElement(w,{top:-10,left:160,downAmount:50,axis:5,src:"/stream-racing-wheel/g920/brake.png"}),r.a.createElement(w,{top:-10,left:40,downAmount:50,axis:6,src:"/stream-racing-wheel/g920/clutch.png"}),r.a.createElement("img",{alt:"",style:{width:"400px"},src:"/stream-racing-wheel/g920/pedals.png"}))}}]),a}(n.Component),v=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).halfGrid=n.props.gridSize/2,n.halfGridY=n.props.gridSize/2.2,n.moveX=0,n.moveY=0,n}return Object(c.a)(a,[{key:"render",value:function(){var e="100ms";switch(this.props.gear){case-1:e="500ms",this.moveX=0,this.moveY=0;break;case 0:this.moveX=this.halfGrid,this.moveY=this.halfGridY;break;case 1:this.moveX=-this.halfGrid,this.moveY=-this.halfGridY;break;case 2:this.moveX=-this.halfGrid,this.moveY=this.halfGridY;break;case 3:this.moveX=0,this.moveY=-this.halfGridY;break;case 4:this.moveX=0,this.moveY=this.halfGridY;break;case 5:this.moveX=this.halfGrid,this.moveY=-this.halfGridY;break;case 6:this.moveX=this.halfGrid,this.moveY=this.halfGridY;break;default:e="500ms",this.moveX=0,this.moveY=0}var t={width:"150px",zIndex:"999",position:"absolute",top:this.props.top-30+"px",left:this.props.left+"px",transition:"all "+e,transform:"translate("+this.moveX+"px, "+this.moveY+"px)"},a={backgroundColor:"red",width:"10px",height:"20px",zIndex:"999",position:"absolute",top:"0px",left:"0px",display:"none"};return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("div",{style:a}),r.a.createElement("img",{id:"shiftKnob",alt:"",style:t,src:"/stream-racing-wheel/g920/shifter.png"}))}}]),a}(n.Component),k=g.a.connect([],(function(e){return["buttons-"+e.gear1,"buttons-"+e.gear2,"buttons-"+e.gear3,"buttons-"+e.gear4,"buttons-"+e.gear5,"buttons-"+e.gear6,"buttons-"+e.reverse]}),(function(e,t,a,n){var r=n.gear||-1,s=n.gearButton||-1;if(t.pressed)switch(e){case"buttons-"+n.gear1:r=1,s=n.gear1;break;case"buttons-"+n.gear2:r=2,s=n.gear2;break;case"buttons-"+n.gear3:r=3,s=n.gear3;break;case"buttons-"+n.gear4:r=4,s=n.gear4;break;case"buttons-"+n.gear5:r=5,s=n.gear5;break;case"buttons-"+n.gear6:r=6,s=n.gear6;break;case"buttons-"+n.reverse:r=0,s=n.reverse,document.getElementById("shiftKnob").style.width="110px";break;default:r=-1}else"buttons-"+n.gearButton===e&&(r=-1,document.getElementById("shiftKnob").style.width="150px");return{gear:r,gearButton:s}}))(v),y=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){switch(this.props.gearPress){case 0:document.getElementById("shiftBase").src="/stream-racing-wheel/g27/shifter-base.png";break;case 1:document.getElementById("shiftBase").src="/stream-racing-wheel/g27/basebutton1.png";break;case 2:document.getElementById("shiftBase").src="/stream-racing-wheel/g27/basebutton2.png";break;case 3:document.getElementById("shiftBase").src="/stream-racing-wheel/g27/basebutton3.png";break;case 4:document.getElementById("shiftBase").src="/stream-racing-wheel/g27/basebutton4.png";break;case 5:document.getElementById("shiftBase").src="/stream-racing-wheel/g27/basebutton5.png";break;case 6:document.getElementById("shiftBase").src="/stream-racing-wheel/g27/basebutton6.png";break;case 7:document.getElementById("shiftBase").src="/stream-racing-wheel/g27/basebutton7.png";break;case 8:document.getElementById("shiftBase").src="/stream-racing-wheel/g27/basebutton8.png"}return null}}]),a}(n.Component),x=g.a.connect([],(function(e){return["buttons-"+e.gearButton1,"buttons-"+e.gearButton2,"buttons-"+e.gearButton3,"buttons-"+e.gearButton4,"buttons-"+e.gearButton5,"buttons-"+e.gearButton6,"buttons-"+e.gearButton7,"buttons-"+e.gearButton8]}),(function(e,t,a,n){var r=n.gearPress,s=n.gearButton;if(t.pressed)switch(e){case"buttons-"+n.gearButton1:r=1,s=n.gearButton1;break;case"buttons-"+n.gearButton2:r=2,s=n.gearButton2;break;case"buttons-"+n.gearButton3:r=3,s=n.gearButton3;break;case"buttons-"+n.gearButton4:r=4,s=n.gearButton4;break;case"buttons-"+n.gearButton5:r=5,s=n.gearButton5;break;case"buttons-"+n.gearButton6:r=6,s=n.gearButton6;break;case"buttons-"+n.gearButton7:r=7,s=n.gearButton7;break;case"buttons-"+n.gearButton8:r=8,s=n.gearButton8;break;default:r=0}else"buttons-"+n.gearButton===e&&(r=0);return{gearPress:r,gearButton:s}}))(y),E=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=Math.floor(100*this.props.arrowAmount);switch(128!==this.props.currentArrow){case-100===e:document.getElementById("shiftBase").src="/stream-racing-wheel/g27/basearrow1.png";break;case 71===e:document.getElementById("shiftBase").src="/stream-racing-wheel/g27/basearrow2.png";break;case 14===e:document.getElementById("shiftBase").src="/stream-racing-wheel/g27/basearrow3.png";break;case-43===e:document.getElementById("shiftBase").src="/stream-racing-wheel/g27/basearrow4.png"}return null}}]),a}(n.Component),j=g.a.connect([],(function(e){return["axes-"+e.arrowAxis]}),(function(e,t,a,n){return{arrowAmount:t}}))(E),O=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(k,{top:360,left:225,gridSize:150,gear1:8,gear2:9,gear3:10,gear4:11,gear5:12,gear6:13,reverse:14}),r.a.createElement(x,{gearButton1:0,gearButton2:1,gearButton3:2,gearButton4:3,gearButton5:15,gearButton6:16,gearButton7:17,gearButton8:18}),r.a.createElement(j,{arrowAxis:9}),r.a.createElement("img",{id:"shiftBase",alt:"",width:"600px",src:"/stream-racing-wheel/g27/shifter-base.png"}))}}]),a}(n.Component),I=[],G=[],C=0;C<23;C++)I.push({pressed:!1,touched:!1,value:0}),G.push(0);g.a.set("buttons",I),g.a.set("axes",G);var Y=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).gamePads={},n.start=0,n.a=0,n.b=0,n.gamePadIndex=-1,n.state={gameLoopStarted:!1,rotation:360},n.gameLoop=n.gameLoop.bind(Object(u.a)(n)),n.onGamepadConnected=n.onGamepadConnected.bind(Object(u.a)(n)),window.addEventListener("gamepadconnected",n.onGamepadConnected),n}return Object(c.a)(a,[{key:"onGamepadConnected",value:function(e){var t=navigator.getGamepads()[e.gamepad.index];console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",t.index,t.id,t.buttons.length,t.axes.length),this.gamePads[t.index]=t,this.setState({gamePads:this.gamePads}),t.id.toLowerCase().indexOf("wheel")>-1&&this.changeGamepad(t.index)}},{key:"onChange",value:function(e){this.changeGamepad(e.target.value)}},{key:"changeGamepad",value:function(e){console.log(e),this.gamePadIndex=e,this.setState({gamepadIndex:e,gameLoopStarted:!0}),this.gameLoop()}},{key:"onWheelRotationChange",value:function(e){var t=e.target.value;g.a.set("maxrotation",t),this.setState({rotation:t})}},{key:"render",value:function(){var e=this,t=Object.values(this.gamePads).map((function(t){var a=t.index===e.gamePadIndex;return r.a.createElement("option",{selected:a,value:t.index},t.id)}));return r.a.createElement("div",{style:{width:"600px",height:"100%",position:"absolute",top:"0px",left:"0px"}},r.a.createElement("label",{style:{color:"white"}},"Driving System"),r.a.createElement("select",{name:"gamepadSelection",onChange:function(t){e.onChange(t)}},t),r.a.createElement("br",null),r.a.createElement("label",{style:{color:"white"}},"Max Rotation"),r.a.createElement("input",{name:"wheelRotation",type:"number",value:this.state.rotation,onChange:function(t){e.onWheelRotationChange(t)}}),r.a.createElement("br",null),r.a.createElement("div",{style:{position:"relative",top:"20px",left:"300px"}},r.a.createElement(p,{axis:0,rotation:this.state.rotation})),r.a.createElement("div",{style:{position:"relative",top:"-400px",left:"-200px",marginLeft:"50px"}},r.a.createElement(O,null)),r.a.createElement("div",{style:{position:"relative",top:"-500px",left:"325px",marginLeft:"50px"}},r.a.createElement(B,null)))}},{key:"buttonPressed",value:function(e){return"object"==typeof e?e.pressed:1===e}},{key:"gameLoop",value:function(){if(-1!==this.gamePadIndex){for(var e=navigator.getGamepads()[this.gamePadIndex],t=[],a=0;a<e.buttons.length;a++){var n=e.buttons[a],r={pressed:n.pressed,touched:n.touched,value:n.value};t.push(r)}for(var s=[],o=0;o<e.axes.length;o++){var i=e.axes[o];s.push(i)}g.a.set("buttons",t),g.a.set("axes",s),this.start=requestAnimationFrame(this.gameLoop)}}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},48:function(e,t,a){e.exports=a(125)},53:function(e,t,a){}},[[48,1,2]]]);
//# sourceMappingURL=main.813dca3f.chunk.js.map